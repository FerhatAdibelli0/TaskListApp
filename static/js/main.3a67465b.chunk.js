(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={section:"Section_section__2hSai"}},function(e,t,n){e.exports={task:"TaskItem_task__3p-uC"}},function(e,t,n){e.exports={container:"Tasks_container__NYE4P"}},function(e,t,n){e.exports={form:"TaskForm_form__hpLeE"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(6),s=n.n(r),a=(n(15),n(3)),c=n(4),o=n(2),i=n.n(o),u=n(1),d=n.n(u),f=function(){var e=Object(u.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(u.useState)(null),o=Object(c.a)(s,2),d=o[0],f=o[1],l=Object(u.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t,n){var s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),f(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((s=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,s.json();case 10:a=e.sent,n(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),f(e.t0.message||"Something went wrong!");case 17:r(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),[]);return{isLoading:n,error:d,sendRequest:l}},l=n(7),j=n.n(l),h=n(0),b=function(e){return Object(h.jsx)("section",{className:j.a.section,children:e.children})},p=n(8),x=n.n(p),m=function(e){return Object(h.jsx)("li",{className:x.a.task,children:e.children})},O=n(9),k=n.n(O),v=function(e){var t=Object(h.jsx)("h2",{children:"No tasks found. Start adding some!"});e.items.length>0&&(t=Object(h.jsx)("ul",{children:e.items.map((function(e){return Object(h.jsx)(m,{children:e.text},e.id)}))}));var n=t;return e.error&&(n=Object(h.jsx)("button",{onClick:e.onFetch,children:"Try again"})),e.loading&&(n="Loading tasks..."),Object(h.jsx)(b,{children:Object(h.jsx)("div",{className:k.a.container,children:n})})},g=n(10),w=n.n(g),y=function(e){var t=Object(u.useRef)();return Object(h.jsxs)("form",{className:w.a.form,onSubmit:function(n){n.preventDefault();var r=t.current.value;r.trim().length>0&&e.onEnterTask(r)},children:[Object(h.jsx)("input",{type:"text",ref:t}),Object(h.jsx)("button",{children:e.loading?"Sending...":"Add Task"})]})},T=function(e){var t=f(),n=t.error,r=t.isLoading,s=t.sendRequest,c=function(t,n){var r={id:n.name,text:t};e.onAddTask(r)},o=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({url:"https://ferhat-s-first-default-rtdb.firebaseio.com/tasks.json",headers:{"Content-Type":"application/json"},body:{text:t},method:"POST"},c.bind(null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(b,{children:[Object(h.jsx)(y,{onEnterTask:o,loading:r}),n&&Object(h.jsx)("p",{children:n})]})};var _=function(){var e=Object(u.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],s=f(),o=s.isLoading,l=s.error,j=s.sendRequest;return Object(u.useEffect)((function(){var e=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in n=[],t)n.push({id:s,text:t[s].text});r(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();j({url:"https://ferhat-s-first-default-rtdb.firebaseio.com/tasks.json"},e)}),[j]),Object(h.jsxs)(d.a.Fragment,{children:[Object(h.jsx)(T,{onAddTask:function(e){r((function(t){return t.concat(e)}))}}),Object(h.jsx)(v,{items:n,loading:o,error:l,onFetch:j})]})};s.a.render(Object(h.jsx)(_,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.3a67465b.chunk.js.map